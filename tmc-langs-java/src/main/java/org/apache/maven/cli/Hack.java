package org.apache.maven.cli;

import org.codehaus.plexus.classworlds.ClassWorld;

import java.nio.file.Path;
import java.util.Collection;

/**
 * Created by jamo on 07/09/16.
 */
public class Hack {

    private static final String EXT_CLASS_PATH = "maven.ext.class.path";
    public MavenCli.CliRequest magic(String[] args, Path projectPath) {
        ClassWorld myClassWorld = new ClassWorld( "plexus.core", this.getClass().getClassLoader() );
//        ClassWorld myClassWorld = new ClassWorld( "plexus.core", ClassLoader.getSystemClassLoader() );

        MavenCli.CliRequest req = new MavenCli.CliRequest(args, myClassWorld);
        req.userProperties.setProperty(EXT_CLASS_PATH, "/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/aopalliance/aopalliance-1.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/com.fasterxml.jackson.core/jackson-annotations-2.4.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/com.fasterxml.jackson.core/jackson-core-2.4.1.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/com.fasterxml.jackson.core/jackson-databind-2.4.1.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml-2.4.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/com.google.code.gson/gson-2.2.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/commons-cli/commons-cli-1.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/commons-codec/commons-codec-1.6.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/commons-io/commons-io-2.4.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/commons-logging/commons-logging-1.1.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/fi.helsinki.cs.tmc/tmc-checkstyle-runner-1.0.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/fi.helsinki.cs.tmc/tmc-junit-runner-0.2.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/javax.inject/javax.inject-1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/javax.websocket/javax.websocket-api-1.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/javax.websocket/javax.websocket-client-api-1.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/junit/junit-4.11.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/log4j/log4j-1.2.17.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.commons/commons-lang3-3.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.httpcomponents/httpclient-4.3.4.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.httpcomponents/httpcore-4.3.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.httpcomponents/httpmime-4.3.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-aether-provider-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-artifact-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-compat-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-core-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-embedder-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-model-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-model-builder-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-plugin-api-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-repository-metadata-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-settings-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven/maven-settings-builder-3.0.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven.wagon/wagon-file-2.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven.wagon/wagon-http-2.2-shaded.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven.wagon/wagon-http-shared4-2.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.apache.maven.wagon/wagon-provider-api-2.2.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.codehaus.plexus/plexus-classworlds-2.4.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.codehaus.plexus/plexus-component-annotations-1.5.5.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.codehaus.plexus/plexus-interpolation-1.14.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.codehaus.plexus/plexus-utils-2.0.6.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.cometd.java/bayeux-api-3.0.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.cometd.java/cometd-java-client-3.0.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.cometd.java/cometd-java-common-3.0.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.cometd.java/cometd-java-websocket-common-client-3.0.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.cometd.java/cometd-java-websocket-javax-client-3.0.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty/jetty-client-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty/jetty-http-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty/jetty-io-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty/jetty-util-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty/jetty-util-ajax-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty.websocket/javax-websocket-client-impl-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty.websocket/websocket-api-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty.websocket/websocket-client-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.eclipse.jetty.websocket/websocket-common-9.2.5.v20141112.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.hamcrest/hamcrest-core-1.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.jsoup/jsoup-1.6.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.mockito/mockito-all-1.9.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.slf4j/slf4j-api-1.7.7.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.slf4j/slf4j-log4j12-1.7.7.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.aether/aether-api-1.13.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.aether/aether-connector-wagon-1.13.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.aether/aether-impl-1.13.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.aether/aether-spi-1.13.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.aether/aether-util-1.13.1.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.plexus/plexus-cipher-1.7.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.plexus/plexus-sec-dispatcher-1.3.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.sisu/sisu-guava-0.9.9.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.sisu/sisu-guice-3.1.0-no_aop.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.sisu/sisu-inject-bean-2.3.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.sonatype.sisu/sisu-inject-plexus-2.3.0.jar:/Users/jamo/git/tmc/tmc-netbeans/mavenmodules/modules/ext/org.yaml/snakeyaml-1.10.jar");
        req.workingDirectory = projectPath.toString();
        return req;
    }
}
